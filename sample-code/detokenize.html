<!DOCTYPE html>
<html lang="en">
    <!--
        Copyright (c) 2014-2018 Auric Systems International. All rights reserved.
        License: 3-Clause BSD License
     -->
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SAMPLE: AuricVault速 Embedded Detokenize iFrame</title>
    <link rel="stylesheet" href="./css/bulma.min.css">
    <link rel="stylesheet" href="./css/app.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="./js/sha512.js"></script>
    <script src="./js/uuid4.js"></script>
    <script src="./js/get-session.js"></script>
    <script src="./js/app-detokenize.js"></script>
    </head>

    <body>
        <noscript>JavaScript Required</noscript>

        <div class="container">
            <section class="section">
                <h1 class="title">AuricVault<sup>速</sup> Demo</h1>
                <h2 class="subtitle">Browser-Side Detokenization</h2>
                <div class="notification">
                    In production the Get Session API call (get_session) occurs on the server.<br>
                    <strong>Never</strong> call get_session from the browser in production.
                </div>
            </section>
            <section id="credentials-section" class="section">
                <h2 class="subtitle">AuricVault<sup>速</sup> Service Credentials</h2>
                <form class="form" id="credentials-form">
                    <div class="field">
                        <label class="label" for="configuration">Configuration</label>
                        <input class="input" type="text" name="configuration" id="configuration" value="" placeholder="Configuration" required>
                    </div>
                    <div class="field">
                        <label class="label" for="mtid">MTID</label>
                        <input class="input" type="text" name="mtid" id="mtid" value="" placeholder="MTID" required>
                    </div>
                    <div class="field">
                        <label class="label" for="segment">Segment</label>
                        <input class="input" type="text" name="segment" id="segment" value="" placeholder="Segment" required>
                    </div>
                    <div class="field">
                        <label class="label" for="retention">Retention</label>
                        <input class="input" type="text" name="retention" id="retention" value="forever" placeholder="Retention" required>
                    </div>
                    <div class="field">
                        <label class="label" for="secret">Secret</label>
                        <input class="input" type="password" name="secret" id="secret" value="" placeholder="Secret (for HMAC)" required>
                    </div>

                    <hr>
                    <div class="field">
                        <label class="label" for="cardTypes">Token to retrieve</label>
                        <input class="input" type="text" id="auvToken" name="auvToken" value="" placeholder="AuricVault速 Token">
                    </div>

                    <div class="control">
                        <input class="button is-primary" type="submit" id="credentials" value="Detokenize"><br />
                    </div>
                </form>
            <hr>
        </section>
        <section id="output-section" class="hidden">
            <iframe id="embedded" src=""></iframe>
        </section>
    </div>
</body>
</html>
